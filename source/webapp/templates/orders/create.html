{% extends 'base.html' %}
{% block title %}Basket{% endblock %}
{% block content %}
    <table class="basket-table">
        <thead>
            <tr>
                <th>Good</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for good in basket %}
                <tr>
                    <td>
                        <a href="{% url 'good_view' item.good.pk %}">{{ good.good.name }}</a>
                        (<a href="{% url 'basket_delete_one' item.pk %}">Delete one</a>,
                        <a href="{% url 'basket_delete' item.pk %}">Delete all</a>)
                    </td>
                    <td class="text-right">{{ good.good.price }}</td>
                    <td class="text-right">{{ good.remainder }}</td>
                    <td>{{ item.price }}</td>
                </tr>
            {% endfor %}
            <tr>
                <th colspan="3" class="text-right">Total</th>
                <th class="text-right">{{ basket_total|default_if_none:0 }}</th>
            </tr>
        </tbody>
    </table>
    <h3>Create Order:</h3>
    {% url 'order_create' as action_url %}
    {% include 'partial/form.html' with action_url=action_url form_method='post' button_text='Order' %}
{% endblock %}